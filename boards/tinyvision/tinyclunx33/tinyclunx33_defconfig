# Copyright (c) tinyVision.ai Inc.
# SPDX-License-Identifier: Apache-2.0

# Enable I2C as there are I2C peripherals on-board (Rev2)
CONFIG_I2C=y
CONFIG_I2C_LITEX=y

# As the I2C is required to get the clock used by the UART, initialize it earlier
CONFIG_I2C_INIT_PRIORITY=0

# Enable the Si5351 PLL on I2C bus
CONFIG_CLOCK_CONTROL=y
CONFIG_CLOCK_CONTROL_SI5351=y

# Enable the USB silicon core present on-chip
CONFIG_USB_DEVICE_STACK_NEXT=y

# Disable GPIO
CONFIG_GPIO=n

# Enable UART console for debug logs and shell
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LITEUART=y
CONFIG_UART_LINE_CTRL=y

# Optimize the shell to much more TX buffer size
CONFIG_SHELL_BACKEND_SERIAL_TX_RING_BUFFER_SIZE=256

# Enable the system timer
CONFIG_LITEX_TIMER=y

# Enable the video pipeline
CONFIG_VIDEO=y
CONFIG_VIDEO_UVCMANAGER=y

# Enable execution in-place from flash
CONFIG_XIP=y

# Avoid a bug preventing the firmware to start
CONFIG_MINIMAL_LIBC=y

# Generated by LiteX litex_json2dts.py
CONFIG_ETH_LITEETH=n
CONFIG_SPI_LITESPI=n
CONFIG_I2S_LITEX=n
CONFIG_I2S_LITEX=n
CONFIG_CLOCK_CONTROL_LITEX=n
CONFIG_LITEX_CSR_DATA_WIDTH=32
